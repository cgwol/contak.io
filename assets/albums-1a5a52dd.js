import{s as e,u as c,j as m,F as n,c as o,N as u}from"./index-88cc3bb7.js";import{E as k}from"./index-88cc3bb7.js";import{f as b,A as d}from"./fetchSignedAlbumUrls-842ad04c.js";import"./tracks-6e7a3842.js";const _=async()=>{const{data:a,error:r}=await e.from("public_albums").select().limit(30);if(r)throw r;const{albumCovers:s,trackFiles:l}=await b(a);for(const t of a)if(t.signedUrls=s.get(t.album_id),Array.isArray(t.album_tracks))for(const i of t.album_tracks)i.signedUrl=l.get(i.track_id);return{public_albums:a}},g=function(){const{public_albums:r}=c();return m(n,{children:[o(u,{}),o("h1",{children:"Albums"}),Array.isArray(r)&&o("div",{children:r.map(s=>o(d,{album:s},s.album_id))})]})};export{g as Component,k as ErrorBoundary,_ as loader};
